data <- list(df1, df1)
output <- racircalbatch(caldata = data[[1]],
data = data,
mincut = 300,
maxcut = 900)
output <- racircalbatch(caldata = data[[2]],
data = data,
mincut = 300,
maxcut = 900)
output <- racircalbatch(caldata = data[[2]],
data = data[[1]],
mincut = 300,
maxcut = 900)
output <- racircalbatch(caldata = data[[2]],
data = data[[1]],
mincut = 300,
maxcut = 900,
title = c("1", "2"))
library(racir)
set.seed(5)
n <- 50
df1 <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
set.seed(6)
n <- 50
df2 <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
data <- list(df1, df2)
output <- racircalbatch(caldata = data[[2]],
data = data[[1]],
mincut = 300,
maxcut = 900,
title = c("1", "2"))
View(data)
data <- as.list(df1, df2)
data <- as.list(c(df1, df2))
data <- vector("list", 2)
data <- vector("list", 2)
data[[1]] <- df1
data <- vector("list", 2)
set.seed(5)
n <- 50
data[[1]] <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
set.seed(6)
data[[2]] <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
output <- racircalbatch(caldata = data[[1]],
data = data,
mincut = 300,
maxcut = 900,
title = c("1", "2"))
View(data)
output <- racircalbatch(caldata = data[[1]],
data = data,
mincut = 300,
maxcut = 900))
output <- racircalbatch(caldata = data[[1]],
data = data,
mincut = 300,
maxcut = 900)
data <- vector("list", 2)
set.seed(5)
n <- 50
data[[1]] <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
set.seed(6)
data[[2]] <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
output <- racircalbatch(caldata = data[[1]],
data = data,
mincut = 300,
maxcut = 900)
output <- racircalbatch(caldata = data[[1]],
data = data,
mincut = 300,
maxcut = 900)
output <- racircalbatch(caldata = data[[2]],
data = data,
mincut = 300,
maxcut = 900)
View(output)
View(data)
View(output)
cal <- data[[1]]
output <- racircalbatch(caldata = cal,
data = data,
mincut = 300,
maxcut = 900)
View(output)
set.seed(7)
cal <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
output <- racircalbatch(caldata = cal,
data = data,
mincut = 300,
maxcut = 900)
View(output)
data[[3]] <- data[[2]]
output <- racircalbatch(caldata = cal,
data = data,
mincut = 300,
maxcut = 900)
View(output)
#Create a list of files
files <- c(system.file("extdata", "poplar_1", package = "racir"),
system.file("extdata", "poplar_2", package = "racir"))
data <- vector("list", length(files))
for(i in seq_along(files)){
data[[i]] <- read_6800(files[i])
names(data)[i] <- files[i]
}
caldata <- read_6800(system.file("extdata", "cal", package = "racir"))
#Batch calibration with normal algorithm
output <- racircalbatch(caldata = caldata, data = data,
mincut = 350, maxcut = 780, title = files)
View(output)
devtools::document()
library(racir)
devtools::document()
library(racir)
data <- vector("list", 2)
data <- vector("list", 2)
set.seed(5)
n <- 50
data[[1]] <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
set.seed(6)
data[[2]] <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
set.seed(7)
cal <- data.frame(obs   = c(runif(n, 1, 200)),
E     = c(runif(n, 10 / 10000, 20 / 1000)),
A     = c(runif(n, -1, 30)),
Ci    = c(runif(n, 50, 700)),
gtc   = c(runif(n, 0.02, 0.3)),
Ca    = c(runif(n, 300, 900)),
CO2_r = c(runif(n, 300, 900)),
CO2_s = c(runif(n, 300, 900)),
H2O_r = c(runif(n, 10, 20)),
H2O_s = c(runif(n, 10, 20)),
Tleaf = c(rep(25, n)),
Qin   = c(rep(1500, n))
)
output <- racircalbatch(caldata = cal,
data = data,
mincut = 300,
maxcut = 900)
View(output)
devtools::document()
library(racir)
devtools::document()
library(racir)
#Create a list of files
files <- c(system.file("extdata", "poplar_1", package = "racir"),
system.file("extdata", "poplar_2", package = "racir"))
data <- vector("list", length(files))
for(i in seq_along(files)){
data[[i]] <- read_6800(files[i])
names(data)[i] <- files[i]
}
caldata <- read_6800(system.file("extdata", "cal", package = "racir"))
#Batch calibration with normal algorithm
output <- racircalbatch(caldata = caldata, data = data,
mincut = 350, maxcut = 780, title = files)
View(output)
#Batch calibration with advanced algorithm
output <- racircalbatch_advanced(caldata = caldata, data = data,
mincut = 350, maxcut = 780, title = files)
View(output)
library(racir)
#Create a list of files
files <- c(system.file("extdata", "poplar_1", package = "racir"),
system.file("extdata", "poplar_2", package = "racir"))
data <- vector("list", length(files))
for(i in seq_along(files)){
data[[i]] <- read_6800(files[i])
names(data)[i] <- files[i]
}
caldata <- read_6800(system.file("extdata", "cal", package = "racir"))
#Batch calibration with normal algorithm
output <- racircalbatch(caldata = caldata, data = data,
mincut = 350, maxcut = 780, title = files)
View(output)
#Batch calibration with advanced algorithm
output <- racircalbatch_advanced(caldata = caldata, data = data,
mincut = 350, maxcut = 780, title = files)
#To compile outputs from list to data frame:
output <- do.call("rbind", output)
library(racir)
citation("dplyr")
devtools::document()
library(racir)
library(testthat)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
nrow(data[[2]])
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
testdata <- racircal_advanced(caldata = data[[1]], data = data[[2]],
mincut = 300, maxcut = 900)
test_that("Outputs", {
expect_equal(object = length(testdata), length(data[[2]]) + 2)
expect_is(object = testdata, class = "data.frame")
})
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
library(racir)
data <- read_6800(system.file("extdata", "poplar_2", package = "racir"))
caldata <- read_6800(system.file("extdata", "cal", package = "racir"))
data_corrected <- racircal_advanced(data = data, caldata = caldata,
mincut = 350, maxcut = 780,
digits = -2)
testdata <- racircal_advanced(caldata = data[[1]], data = data[[2]],
mincut = 350, maxcut = 900)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
View(data)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
testdata <- racircal(caldata = data[[1]], data = data[[2]],
mincut = 300, maxcut = 900)
View(data)
View(testdata)
testdata2 <- racircal_advanced(caldata = data[[1]], data = data[[2]],
mincut = 300, maxcut = 900, digits = -3)
View(testdata2)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircal.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircalbatch.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircalbatch.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircalbatch.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircalbatch.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircalbatch.R', echo=TRUE)
source('C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir/tests/testthat/testracircalbatch.R', echo=TRUE)
devtools::document()
devtools::spell_check()
devtools::document()
devtools::check_win_devel()
devtools::check_win_release()
library(racir)
devtools::document()
library(racir)
read_6800_2 <- function(x) {
#Read in header information
header <- read.delim(file = x, header = TRUE, sep = "\t",
skip = grep(pattern = "\\[Data\\]",
perl = TRUE,
useBytes = TRUE,
x = readLines(x),
value = FALSE),
nrows = 1)
#Read in data information
data <- read.delim(file = x, header = FALSE, sep = "\t",
skip = grep(pattern = "\\[Data\\]",
perl = TRUE,
useBytes = TRUE,
x = readLines(x),
value = FALSE) + 3)
#Add header to data
colnames(data) <- header[1,]
#Return data
return(data)
}
#Read in the file
data <- read_6800_2(system.file("extdata", "cal", package = "racir"))
View(data)
#Read in the file
data <- read_6800_2(system.file("extdata", "cal", package = "racir"))
#Run calibration check
racircalcheck(data = data)
devtools::document()
library(racir)
#Read in the file
data <- read_6800(system.file("extdata", "cal", package = "racir"))
#Run calibration check
racircalcheck(data = data)
#Read in the file
data <- read_6800(system.file("extdata", "cal", package = "racir"))
#Run calibration check
racircalcheck(data = data)
#Read in the file
data <- read_6800(system.file("extdata", "cal", package = "racir"))
#Run calibration check
racircalcheck(data = data)
library(racir)
devtools::document()
devtools::spell_check()
library(racir)
library(racir)
data <- read_6800(system.file("extdata", "cal", package = "racir"))
#Read in the file
data <- read_6800(system.file("extdata", "cal", package = "racir"))
#Run calibration check
racircalcheck(data = data)
#Read in the file
data <- read_6800(system.file("extdata", "cal", package = "racir"))
#Run calibration check
racircalcheck(data = data,
mincut = 350,
maxcut = 780)
#If using the interval option, use the following function. See below
#for more detailed description
racircalcheck_advanced(data = data,
mincut = 350,
maxcut = 780)
data <- read_6800(system.file("extdata", "poplar_2", package = "racir"))
caldata <- read_6800(system.file("extdata", "cal", package = "racir"))
data_corrected <- racircal(data = data, caldata = caldata,
mincut = 350, maxcut = 780)
data <- read_6800(system.file("extdata", "poplar_2", package = "racir"))
caldata <- read_6800(system.file("extdata", "cal", package = "racir"))
data_corrected <- racircal_advanced(data = data, caldata = caldata,
mincut = 350, maxcut = 780,
digits = -2)
#Create a list of files
files <- c(system.file("extdata", "poplar_1", package = "racir"),
system.file("extdata", "poplar_2", package = "racir"))
data <- vector("list", length(files))
for(i in seq_along(files)){
data[[i]] <- read_6800(files[i])
names(data)[i] <- files[i]
}
caldata <- read_6800(system.file("extdata", "cal", package = "racir"))
#Batch calibration with normal algorithm
output <- racircalbatch(caldata = caldata, data = data,
mincut = 350, maxcut = 780, title = files)
#Batch calibration with advanced algorithm
output <- racircalbatch_advanced(caldata = caldata, data = data,
mincut = 350, maxcut = 780, title = files)
#To compile outputs from list to data frame:
output <- do.call("rbind", output)
devtools::check_win_devel()
devtools::check_win_devel()
devtools::check_win_release()
install.packages("curl")
remove(curl)
remove.packages(curl)
install.packages("curl")
install.packages(c("curl", "httr"))
devtools::check_win_devel()
library(racir)
devtools::document()
library(racir)
devtools::check_win_devel()
citation("devtools")
devtools::check_rhub()
library(racir)
devtools::document()
library(racir)
devtools::check_win_devel()
setwd("C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/Citrus")
library(racir)
cal <- read_6800("2019-09-02-0904_Hamlin_empty")
data <- read_6800"2019-09-02-0831_Hamlin_example"
data <- read_6800("2019-09-02-0831_Hamlin_example")
racircalcheck(data = cal)
racircal(data = data, caldata = cal)
racircal_advanced(data = data, caldata = cal)
output <- racircalbatch(caldata = data[[1]],
data = data,
mincut = 300,
maxcut = 900)
racircal_advanced(data = data, caldata = cal, maxcut = 900)
devtools::check_win_devel()
setwd("C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir")
devtools::check_win_devel()
?curl::curl_fetch_memory
devtools::check_win_devel()
devtools::release_checks()
citation("racir")
devtools::build()
devtools::document()
library(racir)
citation("racir")
devtools::submit_cran()
devtools::release()
devtools::release()
devtools::check_win_devel()
devtools::release()
library(racir)
devtools::check_win_devel()
devtools::check_win_release()
devtools::check_rhub()
devtools::document()
library(racir)
devtools::release()
library(racir)
devtools::document()
library(racir)
setwd("C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/Citrus/Myrtho/old")
dat1 <- read_6800("2019-09-20-RCAiRF1")
dat2 <- read_6800("2019-09-2019-RCAiRFleafF")
dat2 <- read_6800("2019-09-2019-RCAiRFleafF ")
list.files()
dat2 <- read_6800("2019-09-2019-RCAiRleafF")
racircalcheck(dat1)
racircalcheck(dat2)
racircalcheck(dat2, mincut = 300)
plot(A ~ obs, dat2)
dat2 <- dat2[dat2$obs > 50,]
racircalcheck(dat2)
plot(A ~ obs, dat2)
dat2 <- dat2[dat2$obs < 225,]
plot(A ~ obs, dat2)
racircalcheck(dat2)
racircalcheck_advanced(dat2)
racircalcheck_advanced(dat2, mincut = 150)
racircal(data = dat1, caldata = dat2)
racircal_advanced(data = dat1, caldata = dat2, mincut = 150)
setwd("C:/Users/Joseph Stinziano/Desktop/DesktopBackUp2018_09_16/Postdoc/PkgDevel/racir")
library(racir)
library(racir)
devtools::release()
